import{v as N,A as i,O as E,l as d,_ as V,k as F,u as R,m as q,n as z,b as g,g as S,P as f,d as j,e as D,c as a,f as e,t as B,s as L,F as m,q as h,o as l,h as _,p as J,i as K,r as y}from"./index.a392570d.js";class Q{async getProfileById(o){const p=await N.get(`api/profiles/${o}`);i.activeProfile=new E(p.data),d.log(i.activeProfile)}}const T=new Q;const U={setup(){const c=F(),o=R();async function p(){try{const s=c.params.accountId;d.log("[logging profile Id]",s),await T.getProfileById(s)}catch(s){d.log(s.message),f.error(s.message)}}async function t(){try{i.profileGames=[],i.profileGatherings=[],i.profileHostedGatherings=[],i.profileGroups=[];const s=c.params.accountId;await S.getProfileGames(s)}catch(s){d.error(s.message),f.error(s.message)}}return q(()=>{t()}),z(()=>{c.params.profileId,p(),t()}),{route:c,router:o,account:g(()=>i.account),profile:g(()=>i.activeProfile),profileGames:g(()=>i.profileGames),gatherings:g(()=>i.profileGatherings),hostedGatherings:g(()=>i.profileHostedGatherings),groups:g(()=>i.profileGroups),async resetOthers(){i.profileGames=[],i.profileGatherings=[],i.profileHostedGatherings=[],i.profileGroups=[]},async getMyProfileGames(){try{this.resetOthers();const s=c.params.accountId;await S.getProfileGames(s)}catch(s){d.error(s.message),f.error(s.message)}},async getProfileGatherings(){var s;try{this.resetOthers();const n=(s=this.profile)==null?void 0:s.id;await j.getProfileGatherings(n)}catch(n){d.error(n.message),f.error(n.message)}},async getGatheringsIOwn(){var s;try{this.resetOthers();const n=(s=this.profile)==null?void 0:s.id;await j.getGatheringsIOwn(n)}catch(n){d.error(n.message),f.error(n.message)}},async getProfileGroups(){var s;try{this.resetOthers();const n=(s=this.profile)==null?void 0:s.id;await D.getProfileGroups(n)}catch(n){d.error(n.message),f.error(n.message)}},gotoAccount(s){d.log(s),o.push({name:"Account",params:{accountId:s}})}}}},u=c=>(J("data-v-b532b60c"),c=c(),K(),c),W={class:"container-fluid px-0"},X={class:"d-flex justify-content-start banner-size mx-0"},Y=["src","alt"],Z=["src","alt"],$={class:"container-fluid"},ee={class:"row p-3"},se=u(()=>e("div",{class:"col-md-3"},null,-1)),te={class:"col-md-8 p-3 bio-background d-flex justify-content-between align-items-end"},oe={class:"pb-3"},re=u(()=>e("h6",null,"Biography:",-1)),ie=u(()=>e("i",{class:"mdi mdi-pencil text-dark"},null,-1)),ne=[ie],ae={key:0,class:"row pt-3 mx-1"},le={key:1,class:"row pt-3 mx-1"},ce={class:"row justify-content-center p-3 align-items-center"},de={class:"row justify-content-center container-fluid"},ge={class:"col-12"},fe={class:"row justify-content-center"},me=u(()=>e("div",{class:"col-5 mx-4"},null,-1)),ue={class:"row justify-content-center container-fluid"},pe={class:"col-12"},he={class:"row justify-content-center"},_e=u(()=>e("div",{class:"col-5 mx-4"},null,-1)),ye={class:"row justify-content-center"},ve={class:"col-md-9"};function Ge(c,o,p,t,s,n){var G,b,P,w,I,k,x,C,M;const A=y("ProfileGameCard"),v=y("GatheringCard"),H=y("GroupCard");return l(),a(m,null,[e("div",W,[e("section",X,[e("img",{class:"hero-img mx-0 elevation-3 w-100",src:(G=t.profile)==null?void 0:G.coverImg,alt:(b=t.profile)==null?void 0:b.name},null,8,Y),e("img",{class:"img-relative profile-picture img-fluid",src:(P=t.profile)==null?void 0:P.picture,alt:((w=t.profile)==null?void 0:w.name)+((I=t.profile)==null?void 0:I.id)},null,8,Z)])]),e("div",$,[e("section",ee,[se,e("div",te,[e("div",null,[e("h3",oe,"Name: "+B((k=t.profile)==null?void 0:k.name),1),re,e("p",null,B((x=t.profile)==null?void 0:x.bio),1)]),((C=t.profile)==null?void 0:C.id)==((M=t.account)==null?void 0:M.id)?(l(),a("button",{key:0,onClick:o[0]||(o[0]=r=>{var O;return t.gotoAccount((O=t.account)==null?void 0:O.id)}),class:"btn btn-info",title:"Edit Profile"},ne)):L("",!0)])]),t.account.lightMode?(l(),a("section",ae,[e("div",{class:"col-md-3 my-stuff-buttons selectable p-2",onClick:o[1]||(o[1]=r=>t.getMyProfileGames())},"My Games"),e("div",{class:"col-md-3 my-stuff-buttons selectable p-2",onClick:o[2]||(o[2]=r=>t.getProfileGatherings())},"My Gatherings"),e("div",{class:"col-md-3 my-stuff-buttons selectable p-2",onClick:o[3]||(o[3]=r=>t.getGatheringsIOwn())},"Gatherings I'm Hosting"),e("div",{class:"col-md-3 my-stuff-buttons selectable p-2",onClick:o[4]||(o[4]=r=>t.getProfileGroups())},"My Groups")])):(l(),a("section",le,[e("div",{class:"col-md-3 my-stuff-buttons-w selectable p-2",onClick:o[5]||(o[5]=r=>t.getMyProfileGames())},"My Games"),e("div",{class:"col-md-3 my-stuff-buttons-w selectable p-2",onClick:o[6]||(o[6]=r=>t.getProfileGatherings())},"My Gatherings"),e("div",{class:"col-md-3 my-stuff-buttons-w selectable p-2",onClick:o[7]||(o[7]=r=>t.getGatheringsIOwn())},"Gatherings I'm Hosting "),e("div",{class:"col-md-3 my-stuff-buttons-w selectable p-2",onClick:o[8]||(o[8]=r=>t.getProfileGroups())},"My Groups")])),e("section",ce,[(l(!0),a(m,null,h(t.profileGames,r=>(l(),a("div",{class:"col-md-6 col-lg-4 col-xl-3",key:r.id},[_(A,{game:r},null,8,["game"])]))),128))]),e("section",de,[e("div",ge,[e("div",fe,[(l(!0),a(m,null,h(t.gatherings,r=>(l(),a("div",{key:r.id,class:"col-lg-5 gathering-card my-3 mx-4 py-2"},[_(v,{gathering:r.gathering},null,8,["gathering"])]))),128)),me])])]),e("section",ue,[e("div",pe,[e("div",he,[(l(!0),a(m,null,h(t.hostedGatherings,r=>(l(),a("div",{key:r.id,class:"col-lg-5 gathering-card my-3 mx-4 py-2"},[_(v,{gathering:r},null,8,["gathering"])]))),128)),_e])])]),e("section",ye,[(l(!0),a(m,null,h(t.groups,r=>(l(),a("div",ve,[_(H,{group:r.group},null,8,["group"])]))),256))])])],64)}const Pe=V(U,[["render",Ge],["__scopeId","data-v-b532b60c"]]);export{Pe as default};
